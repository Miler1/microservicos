{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UserService from '../services/user.service';\nimport User from '../models/user';\nexport default {\n  name: 'register',\n  data() {\n    return {\n      user: new User('', '', ''),\n      loading: false\n    };\n  },\n  mounted() {\n    if (UserService.currentUserValue) {\n      this.$router.push('/profile');\n    }\n  },\n  methods: {\n    handleRegister() {\n      this.loading = true;\n      this.$alidator.validateAll();\n      if (this.erros.any()) {\n        this.loading = false;\n        return;\n      }\n      UserService.register(this.user).then(data => {\n        this.$store.dispatch('success', 'Mission is completed.');\n        setTimeout(() => {\n          this.$router.push('/login');\n        }, 1000);\n      }, error => {\n        if (!error.response) {\n          this.$store.dispatch('error', error);\n        } else if (error.response.status === 409) {\n          this.$store.dispatch('error', 'Username is not valid.');\n        } else {\n          this.$store.dispatch('error', 'Unexpected error occurred.');\n        }\n      }).then(() => {\n        this.loading = false;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAgDA;AACA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;QACA;QACA;MACA;MACAC,qCACAN;QACA;QACAO;UACA;QACA;MACA,GACAC;QACA;UACA;QACA;UACA;QACA;UACA;QACA;MACA,EACA,CACAC;QACA;MACA;IACA;EACA;AACA","names":["name","data","user","loading","mounted","methods","handleRegister","UserService","setTimeout","error","then"],"sourceRoot":"src/views","sources":["Register.vue"],"sourcesContent":["<template>\n    <div class=\"col-md-12\">\n        <div class=\"card card-container\">\n            <img id=\"profile-img\" src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\" class=\"profile-img-card\"/>\n            <form name=\"form\" @submit.prevent=\"handleRegister\">\n                <div class=\"form-group\">\n                    <label for=\"name\">Full Name</label>\n                    <input type=\"text\" class=\"form-control\"\n                    name=\"name\" v-model=\"user.name\"\n                    v-validate=\"required\"/>\n                    <div class=\"alert alert-danger\" role=\"alert\"\n                    v-if=\"erros.has('name')\">\n                        Full name is required.\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"username\">Username</label>\n                    <input type=\"text\" class=\"form-control\"\n                    name=\"username\" v-model=\"user.username\"\n                    v-validate=\"required\"/>\n                    <div class=\"alert alert-danger\" role=\"alert\"\n                    v-if=\"erros.has('username')\">\n                        Username is required.\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"password\">Password</label>\n                    <input type=\"password\" class=\"form-control\"\n                    name=\"password\" v-model=\"user.name\"\n                    v-validate=\"required\"/>\n                    <div class=\"alert alert-danger\" role=\"alert\"\n                    v-if=\"erros.has('password')\">\n                        Password is required.\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <button class=\"btn btn-primary btn-block\"\n                    :disabled=\"loading\">\n                        <span class=\"spinner-border spinner-border-sm\"\n                        v-show=\"loading\"></span>\n                            <span>Sign Up</span>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n<script>\nimport UserService from '../services/user.service';\nimport User from '../models/user';\nexport default {\n    name: 'register',\n    data() {\n        return {\n            user: new User('','',''),\n            loading: false,\n        };\n    },\n    mounted() {\n        if (UserService.currentUserValue) {\n            this.$router.push('/profile');\n        }\n    },\n    methods: {\n        handleRegister() {\n            this.loading = true;\n            this.$alidator.validateAll();\n            if (this.erros.any()) {\n                this.loading = false;\n                return;\n            }\n            UserService.register(this.user).then(\n                data => {\n                    this.$store.dispatch('success', 'Mission is completed.');\n                    setTimeout(() => {\n                        this.$router.push('/login')\n                    }, 1000);\n                },\n                error => {\n                    if(!error.response) {\n                        this.$store.dispatch('error', error);\n                    } else if(error.response.status === 409) {\n                        this.$store.dispatch('error', 'Username is not valid.');\n                    } else {\n                        this.$store.dispatch('error', 'Unexpected error occurred.');\n                    }\n                }\n            )\n            .then(() => {\n                this.loading = false;\n            });\n        }\n    }\n}\n</script>\n<style scoped>\n    label {\n        display:'block';\n        margin-top: 10px;\n    }\n    .card-container.card {\n        max-width: 350px !important;\n        padding: 40px 40px;\n    }\n    .card {\n        background-color: #f7f7f7;\n        /* just in case there no content */\n        padding: 20px 25px 30px;\n        margin: 0 auto 25px;\n        margin-top: 50px;\n        /** shadows and rounded borders */\n        -moz-border-radius: 2px;\n        -webkit-border-radius: 2px;\n        border-radius:2px;\n        -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n        -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n        box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n    }\n    .profile-img-card {\n        width: 96px;\n        height: 96px;\n        margin: 0 auto 10px;\n        display: block;\n        -moz-border-radius: 50%;\n        -webkit-border-radius: 50%;\n        border-radius: 50%;\n    }\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}